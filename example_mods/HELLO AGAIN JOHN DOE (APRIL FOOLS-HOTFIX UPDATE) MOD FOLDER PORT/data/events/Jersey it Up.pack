Jersey it Up.hx________PACKSEP________//jerseys
var jerseyOn = false;
var jerseyLength = 16;
var jerseySteps = [];

function onEvent(e) {
	if (e.event.name == 'Jersey it Up') {
		jerseyOn = e.event.params[2];
		if (jerseyOn) {
			origiDadX = dad.x;
			origiBfX = boyfriend.x;
			jerseyLength = e.event.params[0];
			jerseySteps = [];
			for (step in e.event.params[1].split(",")) jerseySteps.push(Std.int(step));
			//trace(jerseySteps);
		}
	}
}

function stepHit(curStep) if (jerseyOn) {
	//trace(curStep % jerseyLength);
	if (jerseySteps.contains(curStep % jerseyLength)) {
		jerseyIt();
	}
}

var haha = 1;
function jerseyIt() {
		haha *= -1;
		//trace("jer " + haha);
		var offset = haha;

		for (dads in cpu.characters) {
			FlxTween.cancelTweensOf(dads,["x"]);
			var orig = dad.x;
			dads.x += 50*offset;
			FlxTween.tween(dads, {x: orig}, 0.2, {ease: FlxEase.quadOut});
		}
		for (players in player.characters) {
			FlxTween.cancelTweensOf(players,["x"]);
			var orig = players.x;
			players.x -= 50*offset;
			FlxTween.tween(players, {x: orig}, 0.2, {ease: FlxEase.quadOut});
		}
	}
________PACKSEP________{
	"params": [
		{
			"name": "Jersey Length (number of steps until loop)",
			"type": "Int(4,32,1)",
			"defaultValue": 16
		},
		{
			"name": "Jersey Steps (dont put higher than jersey length)",
			"type": "String",
			"defaultValue": "0,4,8,11,14"
		},
		{
			"name": "Jersey On",
			"type": "Bool",
			"defaultValue": true
		}
	]
}________PACKSEP________iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAASUExURQAAAPDk/////xgY/88AAAAAAIS3Sb4AAAAGdFJOU///////ALO/pL8AAAAJcEhZcwAADsMAAA7DAcdvqGQAAABZSURBVChTXY4BDsAgCAMryv+/vJZ22eIlGnoaAG1gWCQvUrVggcmDPvlZFEZ8z4TC+bVsPPctto3megCNNvlNdBAR3ChIzEmWwDm8krk6m6XfoOoW2CSm+wEQ8QJXSuygcgAAAABJRU5ErkJggg==